/* Rappel BEM .bloc__element--modificateur (où modificateur est par exemple : is open) */

/****** General ***********/

@use '../Utils/variables' as var;
@use '../Utils/keyframes';
@use '../Utils/maps'as maps;
@use '../Utils/mixins';



.main-container {
  display: flex;
  flex-direction: column;
  justify-content: center;
    
}


/******************** FRAMEANDFOOTER (wrapper)**********************/
.frameandfooter {
    display: flex;
    flex-direction: column;
    gap: 40px;
    background-color: var.$background-light;
    z-index: 1;
    max-width: 100%;
}


.loader {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(255, 255, 255, 0.9);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 9999;
    animation: fadeout 4000ms ease forwards;
    opacity: 0;
    visibility: visible;

    &__icon{
        color: var.$button-purple;
        font-size: 50px;
        animation: spin 1s linear infinite;
        position: fixed;
        top: 0;
        left: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        width: 100%;
        height: 100%;
    }
  
}

/* Loader classique cercle */
/* .loader::after {
    content: "";
    width: 50px;
    height: 50px;
    border: 5px solid #ccc;
    border-top-color: var(--button-purple);
    border-radius: 50%;
    animation: spin 1s linear infinite;
} */



/******************** MAIN**********************/


/* MODIFIEUR */
.main__frame {
    /* début répétition à retirer en css */
    display: flex;
    flex-direction: column;
    background-color: var.$background-light ;
    gap: 40px;
    border-top-left-radius: 40px;
    border-top-right-radius: 40px;  
    /* fin répétition à retirer en css */
   max-width: 100%;

   &__title {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-wrap: wrap;
    margin-top: 39px; 
    flex-wrap: wrap;  

        &__name{
            font-size: 24px;
            font-weight: 700;
            text-wrap: wrap;
            text-align: center;
            display: flex;
            padding-left: 42px;
            padding-right: 42px;
            height: auto;
        }

    }

    &__subtitle{
        display: flex;
        margin-top: 10px;
        font-size: 18px;
        font-weight: 300;
        text-wrap: wrap;
        text-align: center;
    }

    &__button {
        display: flex;
        justify-content: center;
        align-items: center;
        border-radius: 25px;
        color: white;
        background: var.$button-gradient;
        height: 50px;
        margin-top: 27px;
        padding-left: 19px;
        padding-right: 19px;
        /* différence entre les deux boutons : 
        j'avais une width sur le bouton commander, 
        que j'enleve pour mettre un padding. Peut etre le padding peut s'appliquer aux deux boutons => le padding serait différent
        */
        z-index: 1;
        position: relative;
        box-shadow: 0px 4px 10px 0px #00000040;
    
        &::after {
            content: "";
            position: absolute;
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;
            background-color: white;
            z-index: -1;
            opacity: 0;
            box-shadow: 0px 4px 10px 0px #00000040;
            transition: opacity 250ms ease-in-out, box-shadow 250ms ease-in-out;
            border-radius: 25px;
        }
        
        &:hover::after{
            opacity: 0.3;
            box-shadow: 0px 4px 10px 0px #00000088;
        }
        
    }
    
}


.main__frame__fonctionnement{
    background-color: white;
    padding: 48px 20px 48px 20px;
    display: flex;
    flex-direction: column;
    gap: 25px; 
    max-width: 100%;

    @include mixins.desktop {
    // @include mix.desktop {
        padding: 50px 180px 50px 180px;  
    }

    &__title{
        font-size: 24px;
        font-weight: 700;
        display: flex;
    }

    &__wrapper{
        display: flex;
        flex-direction: column;
        gap: 25px;
        padding-left: 20px;
        padding-right: 20px;
    
        @include mixins.desktop {
            flex-direction: row;
            justify-content: space-between;
            
        }
    }

    &__label{
        margin: 0;
        padding: 0;
        font-size: 16px;
        font-weight: 500;
    }

    &__card{
        border-radius: 20px;
        background-color: var.$background-light;
        display: flex;
        justify-content: center;
        font-size: 16px;
        font-weight: 500;
        box-shadow: 0px 4px 15px 0px #00000026;
        padding-top: 28px;
        padding-bottom: 28px;
        position: relative;
    
        @include mixins.desktop {
            padding : 28px;
            flex: 1;
        }
    
        &__icon{
            color: #7E7E7E;
            padding-right: 27px;
        }
    
        &__icon-colored{
            color: var.$button-purple;
        }
    
        &__number{
            width: 24px ;
            height: 24px ;
            border-radius: 35px;
            border: 1px solid var.$button-purple;
            background-color:  var.$button-purple;
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            display: flex;
            position: absolute;
            left: -10px;
        }
    
    }

}


/******************* Section des restaurants ***********************/

.main__frame__restaurants{
    padding-left: 17px;
    padding-right: 17px;
    display: flex;
    flex-direction: column;
    max-width: 100%;

    @include mixins.desktop {
        padding-right: 180px;
        padding-left: 180px;
        gap: 28px;
    }

    &__title {
        margin-left: 3px;
        height: 68px;
    
        @include mixins.desktop {
            height: auto;
        }
    }

    &__list{
        gap: 18px;
        display: flex;
        flex-direction: column;
        max-width: 100%;
        position: relative;
    
        @include mixins.desktop {
            gap: 50px;
            flex-direction: row;
            max-width: 100%;
            flex-wrap: wrap;
        }
    
        &__wrapper {
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
        
            @include mixins.desktop {
                display: flex;
                flex: 1 1 calc(50% - 122px);
            }
        }
    }


}


.main__frame__restaurants__card {
    background-color: white;
    border-radius: 15px;
    height: 251px; 
    // max-width: 100%;
    width: 100%;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    position: relative;
    /* margin-top: -5px; */

    @include mixins.desktop {
        flex: 1 1 calc(50% - 122px);
        position: relative;
    }

   &__new{
        font-size: 14px;
        font-weight: 500;
        color: var.$dark-green;
        background-color: var.$light-green;
        position: absolute;
        right: 20px;
        top: 20px;
        height:29px; 
        width: 80px;
        z-index: 4;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        margin: 0;
    }

    &__img{
        border-top-left-radius: 15px;
        border-top-right-radius: 15px;
        /* width: 146px; */
        width: 100%;
        height: 231px;
        top: -57px;
        position: absolute;
        z-index: 3;
        object-fit: cover;
        max-width: 100%;
    }

    &__txt{
        padding-left: 13px;
        padding-right: 13px;  
        margin-top: 190px;
        display: flex;
        flex-direction: column;
    
        &__name{
            font-size: 18px;
            font-weight: 700;
        }
    
        &__location{
            font-size: 17px;
            font-weight: 300;
            margin-top: 5px;   
        }
        
    }
 
}

.main__frame__restaurants__list_like{
    display: flex;
    flex-direction: column;
    position: absolute;
    top: 200px;
    right: 25px;
    z-index: 4;

}

.restaurant_like{
    display: flex;
    font-size: 22px;  
    margin: 0;
    padding: 0;
}


.restaurant_like-selected{
    display: flex;
    color: var.$button-purple;
    font-size: 22px;
    opacity: 0;
    transition: opacity 400ms ease-in-out;
    position: absolute;
    top: 0px;
    right: 0px;
    z-index: 2;
    margin: 0;
    padding: 0;
}

.main__frame__restaurants__like{
    position: absolute;
    top: 0px;
    right: 0px;
    margin: 0;
    padding: 0;
    z-index: 3;
    opacity: 0;
    width: 22px;
    height: 22px;
}

.main__frame__restaurants__like:checked +.restaurant_like-selected {
    opacity: 1;
}